## 基本原則

### セッション管理

1. **コンテキスト圧縮禁止**: セッションのコンテキストは圧縮しない
   - 圧縮が必要な場合は、引き継ぎドキュメントを作成
   - 必要なコンテキスト（未完了タスク、決定事項、依存関係）を明示的に記録
2. **成果物への露出禁止**: 最終成果物に思考の過程やコンテキストを含めない
   - コメントに「xxx版」「WIP」等の作業状況を記載しない
   - 実行時のログ出力や tmp ファイルへの出力に留める
3. **Git汚染禁止**: 一時ファイルで Git リポジトリを汚染しない
   - 今後の開発に必要な情報は適切にドキュメント化
   - 開発の過程の情報は `.gitignore` 対象または `tmp/` に配置

### 意思決定

1. **推測禁止**: 仕様・条件・粒度が曖昧なまま進めない
2. **選択肢提示**: ユーザーに明確な選択肢を提示し、意思決定を促す
3. **ADR記録**: 重要な意思決定は経緯・選択肢も含めて ADR にまとめる

## コーディング

### 原則
1. **既存ファイル優先**: 新規ファイル作成は必要最小限に
2. **YAGNI**: 今必要でない機能は実装しない
3. **KISS**: 最もシンプルな解決策を選択
4. **早期リターン**: ネストを減らし、ガード節で早期return
5. **早期失敗**: 異常系は早期に検出してエラーを投げる

### 純粋関数

メソッドは純粋関数となるように定義する。

メソッド内で以下を可能な限り避ける:
- 再代入（`const`/`val` を使用）
- `List#add` のような副作用を用いた状態変更

## ドキュメンテーション

### 原則

1. **曖昧な表現禁止**: 具体的な内容や数値を用いる
2. **判断不能時**: ユーザーにフィードバック、必要に応じて ADR にまとめる

### 形式

- Markdown 形式（GitHub Flavored Markdown）
- 図には Mermaid 記法を使用

### 手法

目的に応じて一般的なドキュメンテーション手法を選択:
- ADR: 技術的意思決定の記録
- Design Doc: 新機能や大規模変更の設計
- RFC: チーム内での提案と議論
- Runbook: 運用手順の記録
